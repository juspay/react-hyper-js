// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Context from "../Context.bs.js";
import * as Js_promise from "rescript/lib/es6/js_promise.js";
import * as JsxRuntime from "react/jsx-runtime";

function Elements(props) {
  var options = props.options;
  var stripe = props.stripe;
  var elementOptions = Context.elementsOptionObjMapper(options);
  var match = React.useState(function () {
        return Context.defaultSwitchContext;
      });
  var setSwitchState = match[1];
  var match$1 = React.useState(function () {
        return Context.defaultElementsContext;
      });
  var setElementsState = match$1[1];
  React.useEffect((function () {
          ((function (__x) {
                  return Js_promise.then_((function (switchInstance) {
                                var orcaElementsConfig = switchInstance.elements(options);
                                var newElemValues_update = orcaElementsConfig.update;
                                var newElemValues_getElement = orcaElementsConfig.getElement;
                                var newElemValues_fetchUpdates = orcaElementsConfig.fetchUpdates;
                                var newElemValues_create = orcaElementsConfig.create;
                                var newElemValues = {
                                  options: elementOptions,
                                  update: newElemValues_update,
                                  getElement: newElemValues_getElement,
                                  fetchUpdates: newElemValues_fetchUpdates,
                                  create: newElemValues_create
                                };
                                var switchValClone_clientSecret = elementOptions.clientSecret;
                                var switchValClone_confirmPayment = switchInstance.confirmPayment;
                                var switchValClone_confirmCardPayment = switchInstance.confirmCardPayment;
                                var switchValClone_retrievePaymentIntent = switchInstance.retrievePaymentIntent;
                                var switchValClone_paymentRequest = switchInstance.paymentRequest;
                                var switchValClone = {
                                  clientSecret: switchValClone_clientSecret,
                                  confirmPayment: switchValClone_confirmPayment,
                                  confirmCardPayment: switchValClone_confirmCardPayment,
                                  retrievePaymentIntent: switchValClone_retrievePaymentIntent,
                                  paymentRequest: switchValClone_paymentRequest
                                };
                                setSwitchState(function (param) {
                                      return switchValClone;
                                    });
                                setElementsState(function (param) {
                                      return newElemValues;
                                    });
                                return Promise.resolve(switchValClone);
                              }), __x);
                })(stripe));
        }), []);
  return JsxRuntime.jsx(Context.SwitchContextProvider.make, {
              value: match[0],
              children: JsxRuntime.jsx(Context.ElementsContextProvider.make, {
                    value: match$1[0],
                    children: props.children
                  })
            });
}

var make = Elements;

export {
  make ,
}
/* react Not a pure module */
